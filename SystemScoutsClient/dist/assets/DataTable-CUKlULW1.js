import{_ as $,b as s,d as n,g as m,e,B as A,t as d,r as b,c as k,C as N,w as q,q as z,F as y,f as g,n as V,p as P}from"./index-DF_ZuZfT.js";const T={name:"DataCard",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},description:{type:String,default:""}}},w=["aria-label"],x={key:0,class:"icon","aria-hidden":"true"},E={class:"content"},I={class:"value"},L={class:"title"},M={key:0,class:"description"};function F(p,r,l,v,_,i){return n(),s("div",{class:"datacard",role:"region","aria-label":`Indicador: ${l.title}`,tabindex:"0"},[p.$slots.icon?(n(),s("div",x,[A(p.$slots,"icon",{},void 0)])):m("",!0),e("div",E,[e("span",I,d(l.value),1),e("span",L,d(l.title),1),l.description?(n(),s("p",M,d(l.description),1)):m("",!0)])],8,w)}const oe=$(T,[["render",F],["__scopeId","data-v-3043ebdf"]]),O={class:"datatable"},j={class:"datatable-search"},K={class:"datatable-wrapper"},U={class:"datatable-table"},G=["onClick"],H={key:0},J={class:"actions"},Q=["onClick"],R=["onClick"],W=["onClick"],X=["onClick"],Y=["onClick"],Z={key:0},ee=["colspan"],te={class:"datatable-pagination"},ae=["disabled"],se=["disabled"],ne={__name:"DataTable",props:{columns:{type:Array,required:!0},rows:{type:Array,required:!0},pageSize:{type:Number,default:5}},setup(p){const r=p,l=b(""),v=b(null),_=b("asc"),i=b(1),f=k(()=>{let a=[...r.rows];if(l.value){const c=l.value.toLowerCase();a=a.filter(t=>Object.values(t).some(u=>String(u).toLowerCase().includes(c)))}return v.value&&a.sort((c,t)=>{const u=c[v.value],o=t[v.value];return u<o?_.value==="asc"?-1:1:u>o?_.value==="asc"?1:-1:0}),a}),h=k(()=>Math.max(1,Math.ceil(f.value.length/r.pageSize))),C=k(()=>{const a=(i.value-1)*r.pageSize;return f.value.slice(a,a+r.pageSize)});function S(a){v.value===a?_.value=_.value==="asc"?"desc":"asc":(v.value=a,_.value="asc")}function D(){i.value>1&&i.value--}function B(){i.value<h.value&&i.value++}return N([l,f],()=>{i.value=1}),(a,c)=>(n(),s("div",O,[e("div",j,[q(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=t=>l.value=t),placeholder:"Buscar..."},null,512),[[z,l.value]])]),e("div",K,[e("table",U,[e("thead",null,[e("tr",null,[(n(!0),s(y,null,g(r.columns,(t,u)=>(n(),s("th",{key:t.key||u,onClick:o=>t.sortable!==!1&&S(t.key),class:V({sortable:t.sortable!==!1})},[P(d(t.label)+" ",1),v.value===t.key?(n(),s("span",H,d(_.value==="asc"?"▲":"▼"),1)):m("",!0)],10,G))),128)),c[1]||(c[1]=e("th",null,"Acciones",-1))])]),e("tbody",null,[(n(!0),s(y,null,g(C.value,(t,u)=>(n(),s("tr",{key:t.id||u},[(n(!0),s(y,null,g(r.columns,o=>(n(),s("td",{key:o.key},d(t[o.key]),1))),128)),e("td",J,[e("button",{onClick:o=>a.$emit("view",t)},"👁 Ver",8,Q),e("button",{onClick:o=>a.$emit("edit",t)},"✏ Editar",8,R),e("button",{onClick:o=>a.$emit("delete",t)},"🗑 Eliminar",8,W),e("button",{onClick:o=>a.$emit("anular",t)},"⚠️ Anular",8,X),e("button",{onClick:o=>a.$emit("refund",t)},"💸 Devolver",8,Y)])]))),128)),C.value.length===0?(n(),s("tr",Z,[e("td",{colspan:r.columns.length+1,class:"no-data"},"No hay datos",8,ee)])):m("",!0)])])]),e("div",te,[e("button",{disabled:i.value===1,onClick:D},"◀ Anterior",8,ae),e("span",null,"Página "+d(i.value)+" de "+d(h.value),1),e("button",{disabled:i.value===h.value||h.value===0,onClick:B},"Siguiente ▶",8,se)])]))}},ie=$(ne,[["__scopeId","data-v-a13686a4"]]);export{oe as D,ie as a};
