const h="http://localhost:8000/api".replace(/\/$/,"");async function p(e,s={}){const n=String(e).replace(/^\//,""),r=!/\?(.*)$/.test(n)&&!n.endsWith("/"),o=`${h}/${n}${r?"/":""}`,c=!s.method||s.method.toUpperCase()==="GET",a={...s.headers||{}};!c&&!("Content-Type"in a)&&(a["Content-Type"]="application/json");const t=await fetch(o,{headers:a,...s});if(!t.ok){const i=await t.text();throw new Error(`${t.status} ${t.statusText}: ${i}`)}return t.status===204?null:t.json()}const u={async obtenerPersonas(){const e=await p("personas");return Array.isArray(e)?e:[]}};export{u as p};
