import{_ as x,b as g,d as m,F as A,f as L,k as r,l as T,m as _,g as F,n as I,S as j,N as q,h as l,e as n,p as d,t as v,r as c,c as u,o as J,u as H}from"./index-DF_ZuZfT.js";import{B as K}from"./BaseAlert-B4eZmxUy.js";import{B as O}from"./BaseButton-DbILRF5R.js";import{B as Q}from"./BaseSelect-Dr3xFzbM.js";import{B as W}from"./BaseModal-Cxz_boCF.js";import{D as z,a as X}from"./DataTable-CUKlULW1.js";const Y={name:"DataCardList",components:{DataCard:z},props:{cards:{type:Array,required:!0,default:()=>[]}}},Z={class:"datacard-list"};function $(P,e,f,o,b,S){const C=r("DataCard");return m(),g("div",Z,[(m(!0),g(A,null,L(f.cards,(t,i)=>(m(),T(C,{key:i,title:t.title,value:t.value,description:t.description},{icon:_(()=>[t.iconClass?(m(),g("i",{key:0,class:I(t.iconClass)},null,2)):F("",!0)]),_:2},1032,["title","value","description"]))),128))])}const ee=x(Y,[["render",$],["__scopeId","data-v-82b4e1ea"]]),oe={name:"DashboardScout",components:{NavBar:q,SideBar:j,BaseAlert:K,BaseButton:O,BaseSelect:Q,BaseModal:W,DataCard:z,DataCardList:ee,DataTable:X},setup(){const P=H(),e=c({region:"",provincia:"",comuna:""}),f=c(!1),o=c(null),b=c([]),S=c([{value:"1",label:"Región Metropolitana"},{value:"2",label:"Valparaíso"},{value:"3",label:"Biobío"}]),C=c([{value:"1",label:"Santiago",region:"1"},{value:"2",label:"Cordillera",region:"1"},{value:"3",label:"Valparaíso",region:"2"},{value:"4",label:"Concepción",region:"3"}]),t=c([{value:"1",label:"Santiago",provincia:"1"},{value:"2",label:"Providencia",provincia:"1"},{value:"3",label:"Viña del Mar",provincia:"3"},{value:"4",label:"Concepción",provincia:"4"}]),i=c([{id:1,nombre:"Juan Pérez",rut:"12.345.678-9",email:"juan@email.com",telefono:"+56912345678",grupo:"Grupo 1",rama:"Scout",fechaRegistro:"2024-01-15"},{id:2,nombre:"María González",rut:"23.456.789-0",email:"maria@email.com",telefono:"+56923456789",grupo:"Grupo 2",rama:"Guía",fechaRegistro:"2024-01-14"},{id:3,nombre:"Carlos López",rut:"34.567.890-1",email:"carlos@email.com",telefono:"+56934567890",grupo:"Grupo 1",rama:"Scout",fechaRegistro:"2024-01-13"}]),B=c([{id:1,titulo:"Curso de Liderazgo",fecha:"2024-02-01",participantes:"15/20",estado:"activo"},{id:2,titulo:"Primeros Auxilios",fecha:"2024-02-15",participantes:"18/25",estado:"activo"},{id:3,titulo:"Navegación",fecha:"2024-03-01",participantes:"10/15",estado:"planificado"}]),p=u(()=>e.value.region?C.value.filter(a=>a.region===e.value.region):[]),V=u(()=>e.value.provincia?t.value.filter(a=>a.provincia===e.value.provincia):[]),R=u(()=>i.value.length),y=u(()=>B.value.filter(a=>a.estado==="activo").length),k=u(()=>5),s=u(()=>12),N=u(()=>i.value.slice(0,5).map(a=>({id:a.id,nombre:a.nombre,rut:a.rut,email:a.email,grupo:a.grupo,fecha:a.fechaRegistro}))),G=u(()=>B.value.slice(0,3).map(a=>({title:a.titulo,value:a.participantes,description:`Fecha: ${a.fecha}`}))),M=[{key:"nombre",label:"Nombre",sortable:!0},{key:"rut",label:"RUT",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"grupo",label:"Grupo",sortable:!0},{key:"fecha",label:"Fecha Registro",sortable:!0}],h=()=>{e.value={region:"",provincia:"",comuna:""}},U=a=>{o.value=i.value.find(D=>D.id===a.id),f.value=!0},w=a=>{P.push(`/gestionpersonas/editar/${a.id}`)},E=a=>{b.value=b.value.filter(D=>D.id!==a)};return J(async()=>{}),{filtros:e,modalPersonaVisible:f,personaSeleccionada:o,alertas:b,regiones:S,provinciasFiltradas:p,comunasFiltradas:V,totalPersonas:R,cursosActivos:y,pagosPendientes:k,inscripcionesRecientes:s,personasRecientes:N,proximosCursos:G,columnasPersonas:M,limpiarFiltros:h,verPersona:U,editarPersona:w,removerAlerta:E}}},ae={class:"dashboard-scout"},ne={class:"main-content"},se={class:"filters-section"},le={class:"stats-grid"},re={class:"recent-section"},te={class:"courses-section"},ie={key:0},ce={class:"persona-details"};function de(P,e,f,o,b,S){const C=r("NavBar"),t=r("SideBar"),i=r("BaseSelect"),B=r("BaseButton"),p=r("DataCard"),V=r("BaseAlert"),R=r("DataTable"),y=r("DataCardList"),k=r("BaseModal");return m(),g("div",ae,[l(C),l(t),n("main",ne,[n("div",se,[l(i,{modelValue:o.filtros.region,"onUpdate:modelValue":e[0]||(e[0]=s=>o.filtros.region=s),label:"Región",options:o.regiones,placeholder:"Seleccione región"},null,8,["modelValue","options"]),l(i,{modelValue:o.filtros.provincia,"onUpdate:modelValue":e[1]||(e[1]=s=>o.filtros.provincia=s),label:"Provincia",options:o.provinciasFiltradas,placeholder:"Seleccione provincia",disabled:!o.filtros.region},null,8,["modelValue","options","disabled"]),l(i,{modelValue:o.filtros.comuna,"onUpdate:modelValue":e[2]||(e[2]=s=>o.filtros.comuna=s),label:"Comuna",options:o.comunasFiltradas,placeholder:"Seleccione comuna",disabled:!o.filtros.provincia},null,8,["modelValue","options","disabled"]),l(B,{onClick:o.limpiarFiltros,variant:"outline"},{default:_(()=>[...e[5]||(e[5]=[d(" Limpiar Filtros ",-1)])]),_:1},8,["onClick"])]),n("div",le,[l(p,{title:"Personas Registradas",value:o.totalPersonas,description:"Total de personas en el sistema"},null,8,["value"]),l(p,{title:"Cursos Activos",value:o.cursosActivos,description:"Cursos en progreso"},null,8,["value"]),l(p,{title:"Pagos Pendientes",value:o.pagosPendientes,description:"Pagos por procesar"},null,8,["value"]),l(p,{title:"Inscripciones Recientes",value:o.inscripcionesRecientes,description:"Últimos 7 días"},null,8,["value"])]),o.alertas.length>0?(m(!0),g(A,{key:0},L(o.alertas,s=>(m(),T(V,{key:s.id,type:s.type,title:s.title,message:s.message,dismissible:!0,onClose:N=>o.removerAlerta(s.id)},null,8,["type","title","message","onClose"]))),128)):F("",!0),n("section",re,[e[6]||(e[6]=n("h3",null,"Personas Recientemente Registradas",-1)),l(R,{columns:o.columnasPersonas,rows:o.personasRecientes,pageSize:5,onView:o.verPersona,onEdit:o.editarPersona},null,8,["columns","rows","onView","onEdit"])]),n("section",te,[e[7]||(e[7]=n("h3",null,"Próximos Cursos",-1)),l(y,{cards:o.proximosCursos},null,8,["cards"])]),l(k,{modelValue:o.modalPersonaVisible,"onUpdate:modelValue":e[4]||(e[4]=s=>o.modalPersonaVisible=s)},{default:_(()=>[o.personaSeleccionada?(m(),g("div",ie,[e[15]||(e[15]=n("h3",null,"Detalles de Persona",-1)),n("div",ce,[n("p",null,[e[8]||(e[8]=n("strong",null,"Nombre:",-1)),d(" "+v(o.personaSeleccionada.nombre),1)]),n("p",null,[e[9]||(e[9]=n("strong",null,"RUT:",-1)),d(" "+v(o.personaSeleccionada.rut),1)]),n("p",null,[e[10]||(e[10]=n("strong",null,"Email:",-1)),d(" "+v(o.personaSeleccionada.email),1)]),n("p",null,[e[11]||(e[11]=n("strong",null,"Teléfono:",-1)),d(" "+v(o.personaSeleccionada.telefono),1)]),n("p",null,[e[12]||(e[12]=n("strong",null,"Grupo:",-1)),d(" "+v(o.personaSeleccionada.grupo),1)]),n("p",null,[e[13]||(e[13]=n("strong",null,"Rama:",-1)),d(" "+v(o.personaSeleccionada.rama),1)])]),l(B,{onClick:e[3]||(e[3]=s=>o.modalPersonaVisible=!1),variant:"primary"},{default:_(()=>[...e[14]||(e[14]=[d(" Cerrar ",-1)])]),_:1})])):F("",!0)]),_:1},8,["modelValue"])])])}const be=x(oe,[["render",de],["__scopeId","data-v-553404da"]]);export{be as default};
