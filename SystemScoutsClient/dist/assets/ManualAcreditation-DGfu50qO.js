import{_ as y,a as c,b as i,f as o,d as e,B as C,t as r,A as m,w as v,s as M,j as _,z as f,y as g,i as d,n as h}from"./index-AxCKe8US.js";import{N as k,D as b}from"./NotificationToast-Cb0gFXXe.js";import{B as A}from"./BaseButton-Bqv1-etg.js";import{B}from"./BaseAlert-VEY4pNt7.js";const w={name:"DataCard",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},description:{type:String,default:""}}},T=["aria-label"],N={key:0,class:"icon","aria-hidden":"true"},R={class:"content"},E={class:"value"},x={class:"title"},D={key:0,class:"description"};function z(n,t,l,P,s,a){return i(),c("div",{class:"datacard",role:"region","aria-label":`Indicador: ${l.title}`,tabindex:"0"},[n.$slots.icon?(i(),c("div",N,[C(n.$slots,"icon",{},void 0,!0)])):o("",!0),e("div",R,[e("span",E,r(l.value),1),e("span",x,r(l.title),1),l.description?(i(),c("p",D,r(l.description),1)):o("",!0)])],8,T)}const L=y(w,[["render",z],["__scopeId","data-v-3043ebdf"]]),Z={name:"ManualAcreditation",components:{DataCard:L,DataTable:b,BaseButton:A,BaseAlert:B,NotificationToast:k},data(){return{searchTerm:"",selectedParticipant:null,acreditationSuccess:!1,isMobile:window.innerWidth<=768,paymentSuccess:!1,paymentSuccessMessage:"",acreditationSuccessMessage:""}},computed:{canAcredit(){return this.selectedParticipant&&this.selectedParticipant.paymentStatus==="Confirmado"&&this.selectedParticipant.acreditationStatus==="Pendiente"},statusMessage(){return this.selectedParticipant?this.selectedParticipant.acreditationStatus==="Acreditado"?"✅ Este usuario ya fue acreditado":this.selectedParticipant.paymentStatus!=="Confirmado"?"❌ Pendiente de pago - No se puede acreditar":"✅ Listo para acreditar":""},statusMessageClass(){return this.selectedParticipant?this.selectedParticipant.acreditationStatus==="Acreditado"?"status-message-success":this.selectedParticipant.paymentStatus!=="Confirmado"?"status-message-error":"status-message-info":""},paymentStatusClass(){return this.selectedParticipant?.paymentStatus==="Confirmado"?"status-confirmado":"status-pendiente"},acreditationStatusClass(){return this.selectedParticipant?.acreditationStatus==="Acreditado"?"status-acreditado":"status-pendiente"}},mounted(){window.addEventListener("resize",this.checkMobile)},beforeUnmount(){window.removeEventListener("resize",this.checkMobile)},methods:{checkMobile(){this.isMobile=window.innerWidth<=768},handleSearch(){if(this.searchTerm.trim()){const n=Math.random();n<.3?this.selectedParticipant={name:"JUAN PÉREZ GONZÁLEZ",rut:"12.345.678-9",currentCourse:"Formación de Dirigentes",paymentStatus:"Pendiente",acreditationStatus:"Pendiente",paymentConfirmed:!1}:n<.6?this.selectedParticipant={name:"MARÍA GONZÁLEZ LÓPEZ",rut:"98.765.432-1",currentCourse:"Formación de Dirigentes",paymentStatus:"Confirmado",acreditationStatus:"Pendiente",paymentConfirmed:!0}:this.selectedParticipant={name:"CARLOS RAMÍREZ SOTO",rut:"11.222.333-4",currentCourse:"Curso de Especialidades",paymentStatus:"Confirmado",acreditationStatus:"Acreditado",paymentConfirmed:!0}}else this.selectedParticipant=null},acreditarParticipante(){if(this.canAcredit){this.selectedParticipant.acreditationStatus="Acreditado";const n=`${this.selectedParticipant.name} acreditado correctamente`;this.acreditationSuccessMessage=n,this.acreditationSuccess=!0,setTimeout(()=>{this.acreditationSuccess=!1,this.acreditationSuccessMessage=""},3500)}},handlePagar(){this.selectedParticipant.paymentStatus="Confirmado",this.selectedParticipant.paymentConfirmed=!0;const n=`✅ ${this.selectedParticipant.name} marcado como pagado. Ahora puede ser acreditado.`;console.log(n),this.paymentSuccessMessage=n,this.paymentSuccess=!0,setTimeout(()=>{this.paymentSuccess=!1,this.paymentSuccessMessage=""},3500)},showQR(){alert(`📱 Mostrando QR de ${this.selectedParticipant.name}`)}}},U={class:"manual-acreditation"},V={class:"search-section"},I={class:"search-box"},O={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{"margin-right":"8px"},"aria-hidden":"true"},Q={key:2,class:"participant-info"},q={class:"info-grid"},F={class:"info-section"},G={class:"info-item"},W={class:"info-item"},j={class:"info-item"},J={class:"info-section"},H={class:"info-item"},K={class:"info-item"},X={class:"action-buttons"},Y={key:2,class:"already-acredited"};function $(n,t,l,P,s,a){const p=g("BaseButton"),S=g("NotificationToast");return i(),c("div",U,[t[18]||(t[18]=e("div",{class:"acreditation-header"},[e("h1",null,"Acreditación Manual")],-1)),e("div",V,[e("div",I,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>s.searchTerm=u),type:"text",placeholder:"Buscar por RUT o nombre completo...",class:"search-input",onInput:t[1]||(t[1]=(...u)=>a.handleSearch&&a.handleSearch(...u)),"aria-label":"Buscar por RUT o nombre completo"},null,544),[[_,s.searchTerm]]),M(p,{onClick:a.handleSearch,variant:"primary",size:"md"},{default:f(()=>[(i(),c("svg",O,[...t[4]||(t[4]=[e("path",{d:"M14 14L11.1 11.1M12.6667 7.33333C12.6667 10.2789 10.2789 12.6667 7.33333 12.6667C4.38781 12.6667 2 10.2789 2 7.33333C2 4.38781 4.38781 2 7.33333 2C10.2789 2 12.6667 4.38781 12.6667 7.33333Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1)])])),t[5]||(t[5]=d(" Buscar ",-1))]),_:1},8,["onClick"])])]),s.acreditationSuccess?(i(),m(S,{key:0,message:s.acreditationSuccessMessage,onClose:t[2]||(t[2]=u=>s.acreditationSuccess=!1)},null,8,["message"])):o("",!0),s.paymentSuccess?(i(),m(S,{key:1,message:s.paymentSuccessMessage,onClose:t[3]||(t[3]=u=>s.paymentSuccess=!1)},null,8,["message"])):o("",!0),s.selectedParticipant?(i(),c("div",Q,[t[17]||(t[17]=e("div",{class:"status-header"},[e("h2",null,"Información del Participante")],-1)),e("div",q,[e("div",F,[t[9]||(t[9]=e("h3",null,"Datos Personales",-1)),e("div",G,[t[6]||(t[6]=e("strong",null,"Nombre:",-1)),d(" "+r(s.selectedParticipant.name),1)]),e("div",W,[t[7]||(t[7]=e("strong",null,"RUT:",-1)),d(" "+r(s.selectedParticipant.rut),1)]),e("div",j,[t[8]||(t[8]=e("strong",null,"Curso:",-1)),d(" "+r(s.selectedParticipant.currentCourse),1)])]),e("div",J,[t[12]||(t[12]=e("h3",null,"Estado",-1)),e("div",H,[t[10]||(t[10]=e("strong",null,"Pago:",-1)),e("span",{class:h(a.paymentStatusClass)},r(s.selectedParticipant.paymentStatus),3)]),e("div",K,[t[11]||(t[11]=e("strong",null,"Acreditación:",-1)),e("span",{class:h(a.acreditationStatusClass)},r(s.selectedParticipant.acreditationStatus),3)]),a.statusMessage?(i(),c("div",{key:0,class:h(["status-message",a.statusMessageClass])},r(a.statusMessage),3)):o("",!0)])]),e("div",X,[a.canAcredit?(i(),m(p,{key:0,onClick:a.acreditarParticipante,variant:"primary",size:"lg",class:"btn-acreditar"},{default:f(()=>[...t[13]||(t[13]=[d(" ✅ Acreditar Participante ",-1)])]),_:1},8,["onClick"])):s.selectedParticipant.paymentConfirmed?s.selectedParticipant.acreditationStatus==="Acreditado"?(i(),c("div",Y,[...t[15]||(t[15]=[e("span",null,"✅ Usuario ya acreditado",-1)])])):o("",!0):(i(),m(p,{key:1,onClick:a.handlePagar,variant:"secondary",size:"lg",class:"btn-pagar"},{default:f(()=>[...t[14]||(t[14]=[d(" 💳 Marcar como Pagado ",-1)])]),_:1},8,["onClick"])),s.isMobile&&s.selectedParticipant.acreditationStatus==="Acreditado"?(i(),m(p,{key:3,onClick:a.showQR,variant:"secondary",size:"md",class:"btn-qr"},{default:f(()=>[...t[16]||(t[16]=[d(" 📱 Ver QR ",-1)])]),_:1},8,["onClick"])):o("",!0)])])):o("",!0)])}const it=y(Z,[["render",$],["__scopeId","data-v-d81eb0a1"]]);export{it as default};
