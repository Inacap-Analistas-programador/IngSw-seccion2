import{_ as v,r as i,a as u,b as l,d as s,f,w as d,j as p,g,t as w,u as y}from"./index-AxCKe8US.js";const _={class:"login-container"},b={class:"form-group"},k={class:"form-group"},x={key:0,class:"error"},L={__name:"Login",setup(S){const t=i(""),a=i(""),r=i(""),c=y(),m=async()=>{try{const o=await fetch("http://127.0.0.1:8000/api/core/usuariocurso/usuarios/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.value,password:a.value})}),e=await o.json();o.ok&&e.success?(localStorage.setItem("token",e.token),c.push("/dashboard")):r.value="Usuario o contraseña incorrectos"}catch(o){console.error(o),r.value="Ocurrió un error al iniciar sesión"}};return(o,e)=>(l(),u("div",_,[e[5]||(e[5]=s("h1",null,"Login",-1)),s("form",{onSubmit:g(m,["prevent"])},[s("div",b,[e[2]||(e[2]=s("label",{for:"username"},"Username:",-1)),d(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>t.value=n),required:""},null,512),[[p,t.value]])]),s("div",k,[e[3]||(e[3]=s("label",{for:"password"},"Password:",-1)),d(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),required:""},null,512),[[p,a.value]])]),e[4]||(e[4]=s("button",{type:"submit"},"Login",-1))],32),r.value?(l(),u("p",x,w(r.value),1)):f("",!0)]))}},U=v(L,[["__scopeId","data-v-4596660f"]]);export{U as default};
