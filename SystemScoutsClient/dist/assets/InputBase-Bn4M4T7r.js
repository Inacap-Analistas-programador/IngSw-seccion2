import{_ as k,r as x,c,I as B,b as s,d as o,g as i,e as p,t as f,B as E,n as V}from"./index-DF_ZuZfT.js";const $={class:"base-input"},C=["for"],N=["id","type","value","placeholder","aria-invalid"],_={key:0,class:"input-append"},q={key:1,class:"base-error"},M={__name:"InputBase",props:{modelValue:[String,Number],label:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},rules:{type:String,default:""},required:{type:Boolean,default:!1},id:{type:String,default:""},externalError:{type:String,default:""}},emits:["update:modelValue"],setup(a,{emit:m}){const r=a,v=m,l=x(""),u=c(()=>r.id||`base-input-${Math.random().toString(36).slice(2,9)}`),y=B(),d=c(()=>!!y.append);function b(e){if(!e||!/^[0-9]+-[0-9kK]{1}$/.test(e))return!1;let[t,g]=e.split("-");t=Number(t)||0;let I=0,n=1;for(;t;t=Math.floor(t/10))n=(n+t%10*(9-I++%6))%11;return String(n?n-1:"k")===g.toLowerCase()}function h(e){return r.required&&!e?"Campo requerido":r.rules==="number"&&e&&!/^[0-9]+$/.test(e)?"Solo números":r.rules==="email"&&e&&!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(e)?"Email inválido":r.rules==="rut"&&e&&!b(e)?"RUT inválido":""}function S(e){const t=e.target.value;v("update:modelValue",t),l.value=h(t)}return(e,t)=>(o(),s("div",$,[a.label?(o(),s("label",{key:0,for:u.value,class:"base-label"},f(a.label),9,C)):i("",!0),p("div",{class:V(["input-wrapper",{"has-append":d.value}])},[p("input",{id:u.value,type:a.type,value:a.modelValue,placeholder:a.placeholder,onInput:S,class:"base-field","aria-invalid":a.externalError||l.value?"true":"false"},null,40,N),d.value?(o(),s("div",_,[E(e.$slots,"append",{},void 0)])):i("",!0)],2),a.externalError||l.value?(o(),s("span",q,f(a.externalError||l.value),1)):i("",!0)]))}},R=k(M,[["__scopeId","data-v-054d5d70"]]);export{R as I};
