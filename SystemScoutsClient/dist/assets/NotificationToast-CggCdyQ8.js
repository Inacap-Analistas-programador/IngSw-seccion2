import{_ as $,r as b,c as f,q as A,b as l,d as i,e,w as B,k as T,F as k,f as g,g as C,t as _,n as z,j as V}from"./index-BKYQARX_.js";const q={class:"datatable"},P={class:"datatable-search"},w={class:"datatable-wrapper"},x={class:"datatable-table"},E=["onClick"],L={key:0},M={class:"actions"},j=["onClick"],F=["onClick"],I=["onClick"],O=["onClick"],K=["onClick"],U={key:0},G=["colspan"],H={class:"datatable-pagination"},J=["disabled"],Q=["disabled"],R={__name:"DataTable",props:{columns:{type:Array,required:!0},rows:{type:Array,required:!0},pageSize:{type:Number,default:5}},setup(h){const n=h,c=b(""),d=b(null),v=b("asc"),o=b(1),p=f(()=>{let a=[...n.rows];if(c.value){const r=c.value.toLowerCase();a=a.filter(t=>Object.values(t).some(u=>String(u).toLowerCase().includes(r)))}return d.value&&a.sort((r,t)=>{const u=r[d.value],s=t[d.value];return u<s?v.value==="asc"?-1:1:u>s?v.value==="asc"?1:-1:0}),a}),m=f(()=>Math.max(1,Math.ceil(p.value.length/n.pageSize))),y=f(()=>{const a=(o.value-1)*n.pageSize;return p.value.slice(a,a+n.pageSize)});function D(a){d.value===a?v.value=v.value==="asc"?"desc":"asc":(d.value=a,v.value="asc")}function N(){o.value>1&&o.value--}function S(){o.value<m.value&&o.value++}return A([c,p],()=>{o.value=1}),(a,r)=>(i(),l("div",q,[e("div",P,[B(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>c.value=t),placeholder:"Buscar..."},null,512),[[T,c.value]])]),e("div",w,[e("table",x,[e("thead",null,[e("tr",null,[(i(!0),l(k,null,g(n.columns,(t,u)=>(i(),l("th",{key:t.key||u,onClick:s=>t.sortable!==!1&&D(t.key),class:z({sortable:t.sortable!==!1})},[V(_(t.label)+" ",1),d.value===t.key?(i(),l("span",L,_(v.value==="asc"?"▲":"▼"),1)):C("",!0)],10,E))),128)),r[1]||(r[1]=e("th",null,"Acciones",-1))])]),e("tbody",null,[(i(!0),l(k,null,g(y.value,(t,u)=>(i(),l("tr",{key:t.id||u},[(i(!0),l(k,null,g(n.columns,s=>(i(),l("td",{key:s.key},_(t[s.key]),1))),128)),e("td",M,[e("button",{onClick:s=>a.$emit("view",t)},"👁 Ver",8,j),e("button",{onClick:s=>a.$emit("edit",t)},"✏ Editar",8,F),e("button",{onClick:s=>a.$emit("delete",t)},"🗑 Eliminar",8,I),e("button",{onClick:s=>a.$emit("anular",t)},"⚠️ Anular",8,O),e("button",{onClick:s=>a.$emit("refund",t)},"💸 Devolver",8,K)])]))),128)),y.value.length===0?(i(),l("tr",U,[e("td",{colspan:n.columns.length+1,class:"no-data"},"No hay datos",8,G)])):C("",!0)])])]),e("div",H,[e("button",{disabled:o.value===1,onClick:N},"◀ Anterior",8,J),e("span",null,"Página "+_(o.value)+" de "+_(m.value),1),e("button",{disabled:o.value===m.value||m.value===0,onClick:S},"Siguiente ▶",8,Q)])]))}},te=$(R,[["__scopeId","data-v-a13686a4"]]),W={name:"NotificationToast",props:{message:{type:String,required:!0}}},X={class:"notification-toast",role:"status"},Y={class:"message"};function Z(h,n,c,d,v,o){return i(),l("div",X,[e("div",Y,_(c.message),1),e("button",{class:"close",onClick:n[0]||(n[0]=p=>h.$emit("close"))},"✕")])}const ae=$(W,[["render",Z],["__scopeId","data-v-0aeae3c5"]]);export{te as D,ae as N};
